<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue全家桶 | 凌烟</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="https://fang-kang.gitee.io/blog-img/favicon.ico">
    <meta name="description" content="stay true to the mission.">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.c0543776.css" as="style"><link rel="preload" href="/assets/js/app.4aa0e8ea.js" as="script"><link rel="preload" href="/assets/js/4.3a6b897f.js" as="script"><link rel="preload" href="/assets/js/1.97f2804a.js" as="script"><link rel="preload" href="/assets/js/2.13201674.js" as="script"><link rel="preload" href="/assets/js/63.1db0a1d6.js" as="script"><link rel="prefetch" href="/assets/js/10.956d5498.js"><link rel="prefetch" href="/assets/js/11.251f530d.js"><link rel="prefetch" href="/assets/js/12.d01bf345.js"><link rel="prefetch" href="/assets/js/13.bb070dff.js"><link rel="prefetch" href="/assets/js/14.b543585c.js"><link rel="prefetch" href="/assets/js/15.b1bcf849.js"><link rel="prefetch" href="/assets/js/16.43b94681.js"><link rel="prefetch" href="/assets/js/17.aa1e97c6.js"><link rel="prefetch" href="/assets/js/18.aa235895.js"><link rel="prefetch" href="/assets/js/19.10a3cdf0.js"><link rel="prefetch" href="/assets/js/20.a125aaa0.js"><link rel="prefetch" href="/assets/js/21.9e6ce220.js"><link rel="prefetch" href="/assets/js/22.9b80c541.js"><link rel="prefetch" href="/assets/js/23.0e9e503f.js"><link rel="prefetch" href="/assets/js/24.fcded96a.js"><link rel="prefetch" href="/assets/js/25.6a74bbbd.js"><link rel="prefetch" href="/assets/js/26.92b3b14a.js"><link rel="prefetch" href="/assets/js/27.18fb41d5.js"><link rel="prefetch" href="/assets/js/28.1d8217aa.js"><link rel="prefetch" href="/assets/js/29.910249cb.js"><link rel="prefetch" href="/assets/js/30.7ffd4cf7.js"><link rel="prefetch" href="/assets/js/31.e5afbb5b.js"><link rel="prefetch" href="/assets/js/32.796285aa.js"><link rel="prefetch" href="/assets/js/33.4042bf41.js"><link rel="prefetch" href="/assets/js/34.b887e798.js"><link rel="prefetch" href="/assets/js/35.cf4833c1.js"><link rel="prefetch" href="/assets/js/36.1d919a3c.js"><link rel="prefetch" href="/assets/js/37.4c63b466.js"><link rel="prefetch" href="/assets/js/38.4f2abbf2.js"><link rel="prefetch" href="/assets/js/39.663ea2e3.js"><link rel="prefetch" href="/assets/js/40.99d7fef1.js"><link rel="prefetch" href="/assets/js/41.24ea1bda.js"><link rel="prefetch" href="/assets/js/42.5ae1c9f5.js"><link rel="prefetch" href="/assets/js/43.61430462.js"><link rel="prefetch" href="/assets/js/44.95389ae8.js"><link rel="prefetch" href="/assets/js/45.e94972fb.js"><link rel="prefetch" href="/assets/js/46.4abcad03.js"><link rel="prefetch" href="/assets/js/47.5022029f.js"><link rel="prefetch" href="/assets/js/48.15206369.js"><link rel="prefetch" href="/assets/js/49.54505c66.js"><link rel="prefetch" href="/assets/js/5.32ec8265.js"><link rel="prefetch" href="/assets/js/50.cdc116d4.js"><link rel="prefetch" href="/assets/js/51.e6b2bae7.js"><link rel="prefetch" href="/assets/js/52.88cfc911.js"><link rel="prefetch" href="/assets/js/53.ea97ed47.js"><link rel="prefetch" href="/assets/js/54.636e88d0.js"><link rel="prefetch" href="/assets/js/55.ad5ebf00.js"><link rel="prefetch" href="/assets/js/56.68db72c1.js"><link rel="prefetch" href="/assets/js/57.e92d20ec.js"><link rel="prefetch" href="/assets/js/58.f1a79bf1.js"><link rel="prefetch" href="/assets/js/59.80f3636b.js"><link rel="prefetch" href="/assets/js/6.22876f96.js"><link rel="prefetch" href="/assets/js/60.5676553a.js"><link rel="prefetch" href="/assets/js/61.823d8bbc.js"><link rel="prefetch" href="/assets/js/62.3ea4862d.js"><link rel="prefetch" href="/assets/js/64.5808862e.js"><link rel="prefetch" href="/assets/js/65.9539285b.js"><link rel="prefetch" href="/assets/js/66.a50ff9e7.js"><link rel="prefetch" href="/assets/js/67.03936b73.js"><link rel="prefetch" href="/assets/js/68.3cbbbf1e.js"><link rel="prefetch" href="/assets/js/69.54b2e54e.js"><link rel="prefetch" href="/assets/js/7.06eda39e.js"><link rel="prefetch" href="/assets/js/8.d5a33fd8.js"><link rel="prefetch" href="/assets/js/9.0c4df056.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0543776.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-04b97590><div data-v-04b97590><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-04b97590 data-v-04b97590><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-2a121430 data-v-04b97590 data-v-04b97590><h3 class="title" style="display:none;" data-v-2a121430 data-v-2a121430>凌烟</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-2a121430 data-v-2a121430><input type="password" value="" data-v-2a121430> <span data-v-2a121430>Konck! Knock!</span> <button data-v-2a121430>OK</button></label> <div class="footer" style="display:none;" data-v-2a121430 data-v-2a121430><span data-v-2a121430><i class="iconfont reco-theme" data-v-2a121430></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2a121430>vuePress-theme-reco</a></span> <span data-v-2a121430><i class="iconfont reco-copyright" data-v-2a121430></i> <a data-v-2a121430><span data-v-2a121430>Fk</span>
            
          <span data-v-2a121430>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-04b97590><header class="navbar" data-v-04b97590><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://fang-kang.gitee.io/blog-img/head.jpg" alt="凌烟" class="logo"> <span class="site-name">凌烟</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Js/" class="nav-link"><i></i>
  Js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/mongodb/" class="nav-link"><i></i>
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/react/" class="nav-link"><i></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniApp/" class="nav-link"><i></i>
  uniApp
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/views/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      学习手册
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/es6" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Es6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/ts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/vue3.0" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Vue3.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/node" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Node
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fang-kang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/fang-kang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-04b97590></div> <aside class="sidebar" data-v-04b97590><div class="personal-info-wrapper" data-v-5641b559 data-v-04b97590><img src="https://fang-kang.gitee.io/blog-img/head.jpg" alt="author-avatar" class="personal-img" data-v-5641b559> <h3 class="name" data-v-5641b559>
    Fk
  </h3> <div class="num" data-v-5641b559><div data-v-5641b559><h3 data-v-5641b559>47</h3> <h6 data-v-5641b559>Article</h6></div> <div data-v-5641b559><h3 data-v-5641b559>19</h3> <h6 data-v-5641b559>Tag</h6></div></div> <hr data-v-5641b559></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Js/" class="nav-link"><i></i>
  Js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/mongodb/" class="nav-link"><i></i>
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/react/" class="nav-link"><i></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniApp/" class="nav-link"><i></i>
  uniApp
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/views/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于我
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      学习手册
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/es6" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Es6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/ts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/vue3.0" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Vue3.0
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fang-kang.gitee.io/node" target="_blank" rel="noopener noreferrer" class="nav-link external"><i></i>
  Node
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/fang-kang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/fang-kang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-2a121430 data-v-04b97590><h3 class="title" style="display:none;" data-v-2a121430 data-v-2a121430>Vue全家桶</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-2a121430 data-v-2a121430><input type="password" value="" data-v-2a121430> <span data-v-2a121430>Konck! Knock!</span> <button data-v-2a121430>OK</button></label> <div class="footer" style="display:none;" data-v-2a121430 data-v-2a121430><span data-v-2a121430><i class="iconfont reco-theme" data-v-2a121430></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2a121430>vuePress-theme-reco</a></span> <span data-v-2a121430><i class="iconfont reco-copyright" data-v-2a121430></i> <a data-v-2a121430><span data-v-2a121430>Fk</span>
            
          <span data-v-2a121430>2020 - </span>
          2021
        </a></span></div></div> <div data-v-04b97590><main class="page"><div class="page-title" style="display:none;"><h1 class="title">Vue全家桶</h1> <div data-v-d683b3c2><i class="iconfont reco-account" data-v-d683b3c2><span data-v-d683b3c2>Fk</span></i> <i class="iconfont reco-date" data-v-d683b3c2><span data-v-d683b3c2>2020-12-10</span></i> <i class="iconfont reco-eye" data-v-d683b3c2><span id="/views/vue/vue.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-d683b3c2><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-d683b3c2><span class="tag-item" data-v-d683b3c2>vue</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="vue-核心"><a href="#vue-核心" class="header-anchor">#</a> Vue 核心</h2> <h3 id="一、vue-的基本认识"><a href="#一、vue-的基本认识" class="header-anchor">#</a> 一、Vue 的基本认识</h3> <p>渐进式 JavaScript 框架，用来动态构建用户界面</p> <p><strong>特点</strong></p> <ol><li>遵循 MVVM 模式
<ol><li>编码简洁，体积小，运行效率高，适合 移动/pc 端开发</li> <li>它本身只关注 UI，可以轻松引入 vue 插件或其它第三方库开发项目</li></ol></li></ol> <p><strong>与其他前端 JS 框架的关联</strong></p> <ol><li>借鉴 angular 的模板 和 数据绑定技术</li> <li>借鉴 react 的组件化 和 虚拟 DOM 技术</li></ol> <p><strong>Vue 扩展插件</strong></p> <ol><li>vue-cli：vue 脚手架</li> <li>vue-resource(axios)：ajax 请求</li> <li>vue-router：路由</li> <li>vuex：状态管理（它是 vue 的插件但是没有用 vue-xxx 的命名规则）</li> <li>vue-lazyload：图片懒加载</li> <li>vue-scroller：页面滑动相关</li> <li>mint-ui：基于 vue 的 UI 组件库（移动端）</li> <li>element-ui：基于 vue 的 UI 组件库（PC 端）</li></ol> <h3 id="二、vue-的基本使用"><a href="#二、vue-的基本使用" class="header-anchor">#</a> 二、Vue 的基本使用</h3> <h4 id="编码"><a href="#编码" class="header-anchor">#</a> 编码</h4> <ol><li><p>引入 Vue.js</p></li> <li><p>创建 Vue 对象</p> <p>el：指定根 element (选择器)</p> <p>data：初始化数据(页面可以访问)</p></li> <li><p>双向数据绑定：v-model</p></li> <li><p>显示数据：</p></li> <li><p>理解 vue 的 mvvm 实现</p></li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!--template模板--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--指令--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--指令--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>hello {{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--大括号表达式--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../js/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 配置对象 options</span>
  <span class="token comment">// 配置选项(option)</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#test&quot;</span><span class="token punctuation">,</span> <span class="token comment">// element: 指定用vue来管理页面中的哪个标签区域</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> <span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="理解-vue-的-mvvm"><a href="#理解-vue-的-mvvm" class="header-anchor">#</a> 理解 Vue 的 MVVM</h4> <p><img src="https://img-blog.csdnimg.cn/20200731102428901.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <p>MVVM --&gt; model-view-viewModel</p> <p>model：模型，数据对象（data）</p> <p>view：视图，模板页面</p> <p>viewModel：视图模型（vue 的实例）</p> <p>MVVM 本质上是 MVC （Model-View- Controller）的改进版。即模型-视图-视图模型。</p> <p><code>模型</code>指的是后端传递的数据，<code>视图</code>指的是所看到的页面。</p> <p><code>视图模型</code>是 mvvm 模式的核心，它是连接 view 和 model 的桥梁。它有两个方向：</p> <ol><li>将<code>模型</code>转化成<code>视图</code>，即<strong>将后端传递的数据转化成所看到的页面</strong>。实现的方式是：数据绑定。</li> <li>将<code>视图</code>转化成<code>模型</code>，即<strong>将所看到的页面转化成后端的数据</strong>。实现的方式是：DOM 事件监听。</li></ol> <p>这两个方向都实现的，我们称之为数据的<strong>双向绑定</strong>。</p> <h3 id="三、模板语法"><a href="#三、模板语法" class="header-anchor">#</a> 三、模板语法</h3> <p><strong>模板的理解</strong></p> <ol><li>动态的 html 页面</li> <li>包含了一些 JS 语法代码：
<ol><li>双大括号表达式</li> <li>指令（以 v- 开头的自定义标签属性）</li></ol></li></ol> <p><strong>双大括号表达式</strong></p> <ol><li>语法：</li> <li>功能：向页面输出数据</li> <li>可以调用对象的方法</li></ol> <p><strong>指令一：强制数据绑定</strong></p> <p>功能：指定变化的属性值</p> <p>完整写法：v-bind:xxx='yyy' //yyy 会作为表达式解析执行</p> <p>简洁写法：:xxx='yyy'</p> <p><strong>指令二：绑定事件监听</strong></p> <p>功能：绑定指定事件名的回调函数</p> <p>完整写法：v-on:keyup='xxx'，v-on:keyup='xxx(参数)'，v-on:keyup.enter='xxx'</p> <p>简洁写法：@keyup='xxx'，@keyup.enter='xxx'</p> <h3 id="四、计算属性和监视"><a href="#四、计算属性和监视" class="header-anchor">#</a> 四、计算属性和监视</h3> <p><strong>计算属性</strong></p> <ol><li>在 computed 属性对象中定义计算属性的方法</li> <li>在页面中使用  来显示计算的结果</li></ol> <p><strong>监视属性</strong></p> <ol><li>通过 vm 对象的 <code>$watch()</code> 或 <code>watch 配置</code> 来监视指定的属性</li> <li>当属性变化时，回调函数自动调用，在函数内部进行计算</li></ol> <p><strong>计算属性高级</strong></p> <ol><li>通过 getter/setter 实现对属性数据的计算读取 和 变化监视</li> <li>计算属性存在缓存，多次读取只执行一次 getter 计算</li></ol> <h3 id="五、class-与-style-绑定"><a href="#五、class-与-style-绑定" class="header-anchor">#</a> 五、class 与 style 绑定</h3> <ol><li>在应用界面中, 某个(些)元素的样式是变化的</li> <li>class/style 绑定就是专门用来实现动态样式效果的技术</li></ol> <p><strong>class 绑定</strong>：<code>:class='xxx'</code></p> <ol><li>表达式是字符串: 'classA'</li> <li>表达式是对象: {classA:isA, classB: isB}</li> <li>表达式是数组: ['classA', 'classB']
<strong>style 绑定</strong>：<code>:style=&quot;{ color: activeColor, fontSize: fontSize + 'px' }&quot;</code>
其中 activeColor/fontSize 是 data 属性</li></ol> <h3 id="六、条件渲染条件渲染指令"><a href="#六、条件渲染条件渲染指令" class="header-anchor">#</a> 六、条件渲染条件渲染指令</h3> <ol><li>v-if + v-else</li> <li>v-show</li></ol> <p>如果需要频繁切换 v-show 较好。当条件不成立时, v-if 的所有子节点不会解析。</p> <h3 id="七、列表渲染"><a href="#七、列表渲染" class="header-anchor">#</a> 七、列表渲染</h3> <p>列表显示指令：</p> <ul><li>数组：v-for/index</li> <li>对象：v-for/key</li></ul> <p><strong>列表的更新显示：</strong></p> <p>1.删除 item：变更方法，顾名思义，会变更调用了这些方法的原始数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 两种更新方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> newP<span class="token punctuation">;</span>
<span class="token comment">// 这样只更新persons中的某一个数据，vue根本就不知道，视图不会更新</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> newP<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// splice方法被 Vue 将进行了包裹，所以也将会触发视图更新。</span>
</code></pre></div><p>这些被包裹过的方法包括：</p> <ul><li><p><code>push()</code></p></li> <li><p><code>pop()</code></p></li> <li><p><code>shift()</code></p></li> <li><p><code>unshift()</code></p></li> <li><p><code>splice()</code></p></li> <li><p><code>sort()</code></p></li> <li><p><code>reverse()</code></p> <p>2.替换 item：相比之下，也有非变更方法，例如 <code>filter()</code>、<code>concat()</code> 和 <code>slice()</code>。它们不会变更原始数组，而<strong>总是返回一个新数组</strong>。当使用非变更方法时，可以用新数组替换旧数组。</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> fpersons <span class="token operator">=</span> persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>searchName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>列表的高级处理：</strong>
列表过滤</p> <p>列表排序</p> <div class="language-js extra-class"><pre class="language-js"><code>fpersons<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>orderType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 降序</span>
    <span class="token keyword">return</span> p2<span class="token punctuation">.</span>age <span class="token operator">-</span> p1<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 升序</span>
    <span class="token keyword">return</span> p1<span class="token punctuation">.</span>age <span class="token operator">-</span> p2<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="八、事件处理"><a href="#八、事件处理" class="header-anchor">#</a> 八、事件处理</h3> <h4 id="绑定监听"><a href="#绑定监听" class="header-anchor">#</a> 绑定监听</h4> <ol><li>v-on:xxx=&quot;fun&quot;</li> <li>@xxx=&quot;fun&quot;</li> <li>@xxx=&quot;fun(参数)&quot;</li> <li>默认事件形参: event， 隐含属性对象:</li></ol> <p><code>$event</code> 就是当前触发事件的元素，即使不传 <code>$event</code>，在回调函数中也可以使用 event 这个参数。</p> <h4 id="事件修饰符"><a href="#事件修饰符" class="header-anchor">#</a> 事件修饰符</h4> <p>事件修饰符用来控制事件的冒泡和默认行为。</p> <ol><li>.prevent : 阻止事件的默认行为 event.preventDefault()</li> <li>.stop : 停止事件冒泡 event.stopPropagation()</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 阻止事件冒泡 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>big<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 提交事件不再重载页面 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">v-on:</span>submit.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 点击事件将只会触发一次 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.once</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="按键修饰符"><a href="#按键修饰符" class="header-anchor">#</a> 按键修饰符</h4> <ol><li>.keycode : 操作的是某个 keycode 值的键</li> <li>.keyName : 操作的某个按键名的键(少部分)</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 任何按键按下都会触发回调函数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">@keyup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testKeyup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 下面的两种写法效果是一致的 --&gt;</span>
<span class="token comment">&lt;!-- 使用按键码，回车键的keyCode是13 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">@keyup.13</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testKeyup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 使用按键修饰符，因为回车键比较常用，所以vue为他设置了名称，可以直接使用enter来代替 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">@keyup.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testKeyup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="九、表单输入绑定"><a href="#九、表单输入绑定" class="header-anchor">#</a> 九、表单输入绑定</h3> <p>使用 v-model 对表单数据自动收集</p> <ol><li>text/textarea</li> <li>checkbox</li> <li>radio</li> <li>select</li></ol> <h3 id="十、vue-实例生命周期"><a href="#十、vue-实例生命周期" class="header-anchor">#</a> 十、vue 实例生命周期</h3> <p><strong>生命周期流程图</strong></p> <p><img src="https://img-blog.csdnimg.cn/2020073110243019.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <p><strong>vue 生命周期分析</strong></p> <ol><li>初始化显示
<ul><li>beforeCreate()</li> <li>created()</li> <li>beforeMount()</li> <li>mounted()</li></ul></li> <li>更新显示：this.xxx = value
<ul><li>beforeUpdate()</li> <li>updated()</li></ul></li> <li>销毁 vue 实例：vm.$destroy()
<ul><li>beforeDestory()</li> <li>destoryed()</li></ul></li></ol> <p><strong>常用的生命周期方法</strong></p> <ol><li>created()/mounted()：发送 ajax 请求，启动定时器等异步任务</li> <li>beforeDestroy()：做收尾工作，如：清除定时器</li></ol> <h3 id="十一、过渡-动画"><a href="#十一、过渡-动画" class="header-anchor">#</a> 十一、过渡&amp;动画</h3> <p><strong>vue 动画的理解</strong></p> <ol><li><p>操作 css 的 transition 或 animation</p></li> <li><p>vue 会给目标元素添加/移除特定的 class</p></li> <li><p>过渡的相关类名</p> <p>xxx-enter-active：指定显示的 transition</p> <p>xxx-leave-active：指定隐藏的 transition</p> <p>xxx-enter/xxx-leave-to：指定隐藏时的样式</p></li></ol> <p><img src="https://img-blog.csdnimg.cn/20200731102427934.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <p><strong>基本过渡动画的编码</strong></p> <ol><li><p>在目标元素外包裹<code>&lt;transition name=&quot;xxx&quot;&gt;</code></p></li> <li><p>定义 class 样式</p> <p>指定过渡样式：transition</p> <p>指定隐藏时的样式：opacity/其它</p></li></ol> <h3 id="十二、过滤器"><a href="#十二、过滤器" class="header-anchor">#</a> 十二、过滤器</h3> <p><strong>理解过滤器</strong></p> <ol><li><p>功能: 对要显示的数据进行特定格式化后再显示</p></li> <li><p>注意: 并没有改变原本的数据, 可是产生新的对应的数据</p></li></ol> <p><strong>定义和使用过滤器</strong></p> <p>定义过滤器：</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>filterName<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">[</span><span class="token punctuation">,</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 进行一定的数据处理</span>
    <span class="token keyword">return</span> newValue
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用过滤器 ：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{myData | filterName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{myData | filterName(arg)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其中，myData 会作为 value 传入 filter 中。</p> <h3 id="十三、内置指令与自定义指令"><a href="#十三、内置指令与自定义指令" class="header-anchor">#</a> 十三、内置指令与自定义指令</h3> <h4 id="常用内置指令"><a href="#常用内置指令" class="header-anchor">#</a> 常用内置指令</h4> <ol><li><p>v-text : 更新元素的 textContent</p></li> <li><p>v-html : 更新元素的 innerHTML</p></li> <li><p>v-if : 如果为 true, 当前标签才会输出到页面</p></li> <li><p>v-else: 如果为 false, 当前标签才会输出到页面</p></li> <li><p>v-show : 通过控制 display 样式来控制显示/隐藏</p></li> <li><p>v-for : 遍历数组/对象</p></li> <li><p>v-on : 绑定事件监听, 一般简写为@</p></li> <li><p>v-bind : 强制绑定解析表达式, 可以省略 v-bind</p></li> <li><p>v-model : 双向数据绑定</p></li> <li><p>ref : 指定唯一标识, vue 对象通过$els 属性访问这个元素对象</p></li> <li><p>v-cloak : 防止闪现, 与 css 配合: [v-cloak] { display: none }</p></li></ol> <h4 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h4> <p>el：指令所在的标签对象</p> <p>binding：包含指令相关数据的容器对象</p> <ol><li>注册全局指令 ：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;my-directive&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toupperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>注册局部指令 ：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>directives<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'my-directive'</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> binding<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toupperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>使用指令 ：v-my-directive='xxx'</li></ol> <p>（binding.value 就是 xxx 的值）</p> <h3 id="十四、自定义插件"><a href="#十四、自定义插件" class="header-anchor">#</a> 十四、自定义插件</h3> <p><strong>说明</strong></p> <ol><li><p>Vue 插件是一个包含 install 方法的对象</p></li> <li><p>通过 install 方法给 Vue 或 Vue 实例添加方法，定义全局指令等</p></li></ol> <h3 id="其他-api"><a href="#其他-api" class="header-anchor">#</a> 其他 API</h3> <h4 id="vm-nexttick-callback"><a href="#vm-nexttick-callback" class="header-anchor">#</a> vm.$nextTick([callback])</h4> <p><strong>用法</strong>：将回调延迟到下次 DOM 更新循环之后执行。在修改数据之后立即使用它，然后等待 DOM 更新。它跟全局方法 <code>Vue.nextTick</code> 一样，不同的是回调的 <code>this</code> 自动绑定到调用它的实例上。</p> <p><strong>用途</strong>：需要在视图更新之后，基于新的视图进行操作。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//改变数据</span>
vm<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">&quot;changed&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//想要立即使用更新后的DOM。这样不行，因为设置message后DOM还没有更新</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 并不会得到'changed'</span>

<span class="token comment">//这样可以，nextTick里面的代码会在DOM更新后执行</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//可以得到'changed'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="vue-组件化编码"><a href="#vue-组件化编码" class="header-anchor">#</a> vue 组件化编码</h2> <h3 id="组件间通信"><a href="#组件间通信" class="header-anchor">#</a> 组件间通信</h3> <p><strong>组件间通信基本原则</strong></p> <ol><li>不要在子组件中直接修改父组件的状态数据</li> <li>数据在哪，更新数据的行为(函数)就应该定义在哪</li></ol> <h4 id="vue-组件间通信方式"><a href="#vue-组件间通信方式" class="header-anchor">#</a> vue 组件间通信方式</h4> <ol><li>props</li> <li>vue 的自定义事件</li> <li>消息订阅与发布(如: pubsub.js 库)</li> <li>slot</li> <li>vuex</li></ol> <h5 id="props"><a href="#props" class="header-anchor">#</a> props</h5> <p>使用组件标签时：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tom<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:set-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>定义 MyComponent 时：</p> <p>1.在组件内声明所有的 props：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 方式一：只指定名称</span>
props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'setName'</span><span class="token punctuation">]</span>
<span class="token comment">// 方式二：指定名称和类型</span>
props<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> String<span class="token punctuation">,</span>
    age<span class="token operator">:</span> Number<span class="token punctuation">,</span>
    setNmae<span class="token operator">:</span> Function
<span class="token punctuation">}</span>
<span class="token comment">// 方式三：指定名称/类型/必要性/默认值</span>
props<span class="token operator">:</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token punctuation">{</span>type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span>xxx<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意</p> <ol><li>此方式用于父组件向子组件传递数据</li> <li>所有标签属性都会成为组件对象的属性，模板页面可以直接引用</li> <li>问题:
a. 如果需要向非子后代传递数据必须多层逐层传递
b. 兄弟组件间也不能直接 props 通信，必须借助父组件才可以</li></ol> <h5 id="vue-自定义事件"><a href="#vue-自定义事件" class="header-anchor">#</a> vue 自定义事件</h5> <p>绑定事件监听（绑定在父组件中）</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// 方式一: 通过v-on 绑定 @delete_todo=&quot;deleteTodo&quot; // 方式二: 通过$on()
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoHeader</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
mounted () { this.$refs.header.$on('delete_todo', this.deleteTodo) }
</code></pre></div><p>触发事件（写在子组件中）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 触发事件(只能在父组件中接收)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;delete_todo&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>注意</p> <ol><li>此方式只用于子组件向父组件发送消息(数据)</li> <li>问题：隔代组件或兄弟组件间通信此种方式不合适</li></ol> <h5 id="消息订阅与发布-pubsubjs-库"><a href="#消息订阅与发布-pubsubjs-库" class="header-anchor">#</a> 消息订阅与发布(PubSubJS 库)</h5> <p>订阅消息</p> <div class="language-js extra-class"><pre class="language-js"><code>PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'msg'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>发布消息</p> <div class="language-js extra-class"><pre class="language-js"><code>PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>注意</p> <ol><li>优点：此方式可实现任意关系组件间通信(数据)</li></ol> <h5 id="事件的-2-个重要操作-总结"><a href="#事件的-2-个重要操作-总结" class="header-anchor">#</a> 事件的 2 个重要操作(总结)</h5> <ol><li>绑定事件监听(订阅消息)
目标：标签元素<code>&lt;button&gt;</code>
事件名(类型)：click/focus
回调函数：function(event){}</li> <li>触发事件(发布消息)
DOM 事件：用户在浏览器上对应的界面上做对应的操作
自定义：编码手动触发</li></ol> <h5 id="slot"><a href="#slot" class="header-anchor">#</a> slot</h5> <p>此方式用于父组件向子组件传递<code>标签数据</code></p> <p>子组件: Child.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>不确定的标签结构1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>组件确定的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>不确定的标签结构2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>父组件: Parent.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>xxx 对应的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>yyyy 对应的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h3> <p><strong>为脚手架添加 axios 模块</strong></p> <p>1.本地安装 axios 模块:</p> <p><code>npm i -save axios</code></p> <p>2.在脚手架项目源代码的 src/main.js 中，new Vue() 前引入 axios 模块</p> <p><code>import axios from &quot;axios&quot;</code> // node_modules 中安装的模块，引入时都不用加路径</p> <p>3.设置 axios 对象的基础路径属性：</p> <p><code>axios.defaults.baseURL=&quot;http://服务器端域名&quot;</code></p> <p>4.将 axios 对象放入 Vue 的原型对象中</p> <p><code>Vue.prototype.axios = axios;</code></p> <p>5.结果：因为所有组件对象都是 Vue 类型的子对象，所以在所有组件内，任何位置都可用 <code>this.$axios.get()</code> 和 <code>this.$axios.post()</code> 访问 Vue.prototype 中的 axios 对象里的函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 发送 ajax 请求</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/index&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 得到返回结果数据</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  pagenum<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$axios
  <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/users/signin&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="render-配置"><a href="#render-配置" class="header-anchor">#</a> render 配置</h3> <p>在 main.js 文件中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 原始写法</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将App.vue映射成标签</span>
    <span class="token constant">APP</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token string">&quot;&lt;App/&gt;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将App标签转化成模板</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 更简洁的写法</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>render 是一个渲染函数，h =&gt; h(App) 是一个箭头函数，其参数 h 是一个函数，这个函数执行接收一个参数 App 组件。</p> <p>h(App) 执行后返回的结果就是 render 的值。</p> <p>也就是：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// h就是createElement，用来创建元素标签</span>
    <span class="token keyword">return</span> <span class="token function">createElement</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;App/&gt;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 其中App标签被插入到el中</span>
</code></pre></div><h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <p>官方提供的用来实现 SPA 的 vue 插件。</p> <h3 id="相关-api-说明"><a href="#相关-api-说明" class="header-anchor">#</a> 相关 API 说明</h3> <p>1.注册路由器（在 main.js）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 创建vue 配置路由器</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2.路由器配置：（在 router 目录下 index.js）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>3.路由配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/home&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> home<span class="token punctuation">,</span>
    <span class="token comment">// 嵌套路由</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&quot;news&quot;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> News<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        path<span class="token operator">:</span> <span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
        component<span class="token operator">:</span> Message<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 一般路由</span>
    path<span class="token operator">:</span> <span class="token string">&quot;about&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> About<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// 自动跳转路由</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>3.VueRouter()：用于创建路由器的构建函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模式</span>
  base<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span>
</code></pre></div><p>4.使用路由组件标签</p> <ul><li><p><code>&lt;router-link&gt;</code>：用来生成路由链接</p> <p><code>&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</code></p></li> <li><p><code>&lt;router-view&gt;</code>：用来显示当前路由组件界面</p> <p><code>&lt;router-view&gt;&lt;/router-view&gt;</code></p></li></ul> <h3 id="向路由组件传递数据"><a href="#向路由组件传递数据" class="header-anchor">#</a> 向路由组件传递数据</h3> <h4 id="方式-1-路由路径携带参数-param-query"><a href="#方式-1-路由路径携带参数-param-query" class="header-anchor">#</a> 方式 1: 路由路径携带参数(param/query)</h4> <ol><li>配置路由</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>children<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;mdetail/:id&quot;</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> MessageDetail<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>路由路径</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>/home/message/mdetail/<span class="token punctuation">'</span> + m.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{m.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>路由组件中读取请求参数
<code>this.$route.params.id</code></li></ol> <h4 id="方式-2-router-view-属性携带数据"><a href="#方式-2-router-view-属性携带数据" class="header-anchor">#</a> 方式 2: <code>&lt;router-view&gt;</code>属性携带数据</h4> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="缓存路由组件对象"><a href="#缓存路由组件对象" class="header-anchor">#</a> 缓存路由组件对象</h3> <ol><li>默认情况下，被切换的路由组件对象会死亡释放，再次回来时是重新创建的（原来的数据就没有了）</li> <li>如果可以缓存路由组件对象，可以提高用户体验</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="两种模式的区别"><a href="#两种模式的区别" class="header-anchor">#</a> 两种模式的区别</h3> <p>前后端分离 ===&gt; 利用 Ajax，可以在<strong>不刷新浏览器</strong>的情况下异步数据请求交互。</p> <p><strong>单页应用（<strong>只有一个 html 文件，整个网站的所有内容都在这一个 html 里，通过 js 来处理</strong>）<strong>不仅仅是在</strong>页面交互</strong>是无刷新的，连<strong>页面跳转</strong>都是无刷新的。为了实现单页应用 ==&gt; 前后端分离 + 前端路由。（更新视图但不重新请求页面）</p> <p>前端路由实现起来其实也很简单，就是<strong>匹配不同的 url 路径</strong>，进行解析，加载不同的组件，然后动态的渲染出区域 html 内容。</p> <p>vue-router 默认 hash 模式，还有一种是 history 模式。</p> <h4 id="hash-模式"><a href="#hash-模式" class="header-anchor">#</a> hash 模式</h4> <p>只能改变 # 后面的 url 片段即 hash 值。hash 值的变化，并<strong>不会导致浏览器向服务器发出请求</strong>，浏览器不发出请求，也就不会刷新页面。每次 hash 值的变化，会<strong>触发</strong> <code>hashchange</code> 这个事件，通过这个事件我们就可以知道 hash 值发生了哪些变化。然后我们便可以<strong>监听 <code>hashchange</code> 来实现更新页面部分内容的操作</strong>：</p> <p>hash 模式的工作原理是 hashchange 事件，可以在 window 监听 hash 的变化。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span> 0 auto</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HashChangeEvent {..., newURL: &quot;...test.html#red&quot;, oldURL: &quot;...test.html&quot;, ...}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// location {..., hash: &quot;#red&quot;, ...}</span>
  <span class="token keyword">let</span> hash <span class="token operator">=</span> location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// red</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> hash<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> hash<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 url 后面随便添加一个 #xx 会触发 onhashchange 事件。打印 event，里边有两个属 性 newURL 和 oldURL。可以通过模拟改变 hash 的值，动态改变页面数据。</p> <h5 id="相关-api"><a href="#相关-api" class="header-anchor">#</a> 相关 API</h5> <p>HashHistory 的方法</p> <ol><li><code>this.$router.push(path)</code>：相当于点击路由链接(可以返回到当前路由界面)</li></ol> <p><img src="https://img-blog.csdnimg.cn/20200731102427668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <ol start="2"><li><code>this.$router.replace(path)</code>：用新路由替换当前路由(不可以返回到当前路由界面)</li></ol> <p><img src="https://img-blog.csdnimg.cn/20200731102427671.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <p>3)<code>this.$router.back()</code>：请求(返回)上一个记录路由 4) <code>this.$router.go(-1)</code>：请求(返回)上一个记录路由 5) <code>this.$router.go(1)</code>：请求下一个记录路由</p> <p>因为 hash 发生变化的 url 都会被浏览器记录（历史访问栈）下来，从而你会发现浏览器的<strong>前进后退</strong>都可以用了。尽管浏览器没有请求服务器，但是页面状态和 url 已经关联起来了，这就是所谓的前端路由，单页应用的标配。</p> <h4 id="history-模式"><a href="#history-模式" class="header-anchor">#</a> history 模式</h4> <p>前面的 hashchange，只能改变 # 后面的 url 片段，而 history api 则给了前端完全的自由。</p> <p>通过 history api，我们丢掉了丑陋的 #，但是它也有个毛病：</p> <p>不怕前进，不怕后退，就怕<strong>f5 刷新</strong>，刷新是实实在在地去请求服务器的。在 hash 模式下，前端路由修改的是 # 中的信息，而浏览器请求时是跟它无关的，所以没有问题。</p> <p>但是在 history 下，你可以自由的修改 path，当刷新时，如果服务器中没有相应的响应或者资源，会刷出 404 来。</p> <h5 id="相关-api-2"><a href="#相关-api-2" class="header-anchor">#</a> 相关 API</h5> <p>多了两个 API，<code>pushState()</code> 和 <code>replaceState()。</code>通过这两个 API：</p> <p>1）可以改变 url 地址且不会发送请求</p> <p>2）不仅可以读取历史记录栈，还可以对<strong>浏览器历史记录栈进行修改。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>stateObject<span class="token punctuation">,</span> title<span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>stateObject<span class="token punctuation">,</span> title<span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//后退两次</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//前进两次</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//后退</span>
hsitory<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//前进</span>
</code></pre></div><h4 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h4> <ul><li>前面的 hashchange，你只能改变 # 后面的 url 片段。而 pushState 设置的新 URL 可以是与当前 URL 同源的任意 URL。</li> <li>history 模式则会将 URL 修改得就和正常请求后端的 URL 一样，如后端没有配置对应 /user/id 的路由处理，则会返回 404 错误</li></ul> <h3 id="router与-route的区别"><a href="#router与-route的区别" class="header-anchor">#</a> <code>$router</code>与<code>$route</code>的区别</h3> <ol><li><code>$route</code>是一个跳转的路由对象，每一个路由都会有一个 route 对象，是一个局部的对象。可以获取对应的 name、path、query、params 等（<code>&lt;router-link&gt;</code>传的参数由 <code>this.$route.query</code>或者 <code>this.$route.params</code> 接收）</li> <li><code>$router</code>为通过 Vue.use(VueRouter) 和 VueRouter 构造函数得到的一个 router 的实例对象，这个对象是一个全局的对象。想要导航到不同 URL，则使用<code>$router.push</code>方法；返回上一个 history 也是使用<code>$router.go</code>方法</li></ol> <h3 id="总结-编写使用路由的-3-步"><a href="#总结-编写使用路由的-3-步" class="header-anchor">#</a> 总结: 编写使用路由的 3 步</h3> <ol><li>定义路由组件</li> <li>注册路由</li> <li>使用路由
<code>&lt;router-link&gt;</code> <code>&lt;router-view&gt;</code></li></ol> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h2> <p><strong>vuex 是什么</strong>：对 vue 应用中多个组件的共享状态进行集中式的管理（读/写）</p> <p><strong>状态自管理应用</strong>：</p> <ol><li>state：驱动应用的数据源</li> <li>view：以声明方式将 state 映射到视图</li> <li>actions：响应在 view 上的用户输入导致的状态变化（包含 n 个更新状态的方法）</li></ol> <p><strong>多组件共享状态的问题</strong>：</p> <ol><li>多个视图依赖于同一状态</li> <li>来自不同视图的行为需要变更同一状态</li></ol> <p>以前的解决办法：</p> <ul><li>将数据以及操作数据的行为都定义在父组件</li> <li>将数据以及操作数据的行为传递给需要的各个子组件（有可能需要多级传递）</li></ul> <p>vuex 就是用来解决这个问题的。</p> <h3 id="vuex-核心概念和-api"><a href="#vuex-核心概念和-api" class="header-anchor">#</a> vuex 核心概念和 API</h3> <h4 id="state"><a href="#state" class="header-anchor">#</a> state</h4> <p>vuex 管理的状态对象。它应该是唯一的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  xxx<span class="token operator">:</span> initValue<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="getters"><a href="#getters" class="header-anchor">#</a> getters</h4> <p>包含多个计算属性（get）的对象</p> <p>由谁读取：组件中 <code>$store.getters.xxx</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">nnn</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  <span class="token function">mmm</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> getters<span class="token punctuation">.</span>nnn<span class="token operator">...</span>
    <span class="token comment">//注意：引入getters时，必须放在第二位，因为第一位默认是state</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="actions"><a href="#actions" class="header-anchor">#</a> actions</h4> <p>包含多个<strong>事件回调函数</strong>的对象。通过执行 <code>commit()</code> 来触发 mutation 的调用，<strong>间接更新</strong> state。</p> <p>由谁触发：组件中 <code>$store.dispatch('action 名称', data1)</code> // 'zzz'</p> <p>可以包含异步代码（定时器，ajax）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">zzz</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit<span class="token punctuation">,</span> state <span class="token punctuation">}</span><span class="token punctuation">,</span> data1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;yyy&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> data1 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传递数据必须用大括号包裹住</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="mutations"><a href="#mutations" class="header-anchor">#</a> mutations</h4> <p>包含多个<strong>直接更新</strong> state 的方法（回调函数）的对象。</p> <p>由谁触发：action 中的 <code>commit('mutation 名称')</code> 来触发。</p> <p>只能包含同步的代码，不能写异步代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">yyy</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">{</span> data1 <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 传递数据必须用大括号包裹住</span>
    <span class="token comment">// 更新 state 的某个属性</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="modules"><a href="#modules" class="header-anchor">#</a> modules</h4> <p>包含多个 module。一个 module 是一个 store 的配置对象，与一个组件（包含有共享数据）对应</p> <h4 id="核心模块-store-对象"><a href="#核心模块-store-对象" class="header-anchor">#</a> 核心模块 store 对象</h4> <p>index.js 固定写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">&quot;./state&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">&quot;./mutations&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> actions <span class="token keyword">from</span> <span class="token string">&quot;./actions&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> getters <span class="token keyword">from</span> <span class="token string">&quot;./getters&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="组件中"><a href="#组件中" class="header-anchor">#</a> 组件中</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>xxx<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>mmm<span class="token punctuation">}</span><span class="token punctuation">}</span> @click<span class="token operator">=</span><span class="token string">&quot;zzz(data)&quot;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">.</span> mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'xxx'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//相当于 this.$store.state.xxx</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'mmm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//相当于 this.$store.getters['mmm']</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'zzz'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//相当于 this.$store.dispatch('zzz')</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="映射-store"><a href="#映射-store" class="header-anchor">#</a> 映射 store</h5> <p>在 main.js 中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  store<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="store-对象"><a href="#store-对象" class="header-anchor">#</a> store 对象</h5> <p>1.所有用 vuex 管理的组件中都多了一个属性 $store，它就是一个 store 对象</p> <p>2.属性：</p> <p>state：注册的 state 对象</p> <p>getters：注册的 getters 对象</p> <p>3.方法：</p> <p>dispatch(actionName, data)：分发调用 action</p> <h3 id="vuex-结构分析"><a href="#vuex-结构分析" class="header-anchor">#</a> Vuex 结构分析</h3> <p><img src="https://img-blog.csdnimg.cn/20200731102430351.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <h2 id="vue-源码分析"><a href="#vue-源码分析" class="header-anchor">#</a> vue 源码分析</h2> <p>分析 vue 作为一个 MVVM 框架的基本实现原理</p> <h3 id="数据代理"><a href="#数据代理" class="header-anchor">#</a> 数据代理</h3> <p>数据代理：通过一个对象代理对另一个对象(在前一个对象内部)中属性的操作(读/写)</p> <p>vue 数据代理：data 对象的所有属性的操作(读/写)由 vm 对象来代理操作</p> <p>好处：通过 vm 对象就可以方便的操作 data 中的数据</p> <p>基本实现流程：</p> <ol><li>通过 Object.defineProperty() 给 vm 添加与 data 对象的属性对应的属性描述符</li> <li>所有添加的属性都包含 getter/setter</li> <li>getter/setter 内部去操作 data 中对应的属性数据</li></ol> <h3 id="模板解析"><a href="#模板解析" class="header-anchor">#</a> 模板解析</h3> <h4 id="模板解析的基本流程"><a href="#模板解析的基本流程" class="header-anchor">#</a> 模板解析的基本流程</h4> <ol><li><p>将 el 的所有<strong>子节点取出</strong>，添加到一个新建的文档 fragment 对象中</p></li> <li><p>对 fragment 中的<strong>所有层次</strong>子节点递归进行编译解析处理</p></li></ol> <ul><li>对大括号表达式文本节点进行解析</li> <li>对元素节点的指令属性进行解析
<ul><li>事件指令解析</li> <li>一般指令解析</li></ul></li></ul> <ol start="3"><li>将解析后的 fragment 添加到 el 中显示</li></ol> <h4 id="大括号表达式解析"><a href="#大括号表达式解析" class="header-anchor">#</a> 大括号表达式解析</h4> <ol><li>根据<strong>正则</strong>对象得到<strong>匹配</strong>出的表达式字符串：子匹配/RegExp.$1 name</li> <li>从 data 中<strong>取出</strong>表达式对应的<strong>属性值</strong></li> <li>将属性值<strong>设置</strong>为文本节点的 <strong>textContent</strong></li></ol> <h4 id="事件指令解析"><a href="#事件指令解析" class="header-anchor">#</a> 事件指令解析</h4> <ol><li>从指令名中<strong>取出事件名</strong></li> <li>根据指令的值（表达式）从 methods 中得到<strong>对应的事件处理函数对象</strong></li> <li>给当前元素节点<strong>绑定</strong>指定事件名和回调函数的 dom <strong>事件监听</strong></li> <li>指令解析完后，<strong>移除</strong>此指令属性</li></ol> <h4 id="一般指令解析"><a href="#一般指令解析" class="header-anchor">#</a> 一般指令解析</h4> <ol><li><p>得到<strong>指令名和指令值</strong>（表达式） text/html/class msg/myClass</p></li> <li><p>从 <strong>data 中</strong>根据表达式得到<strong>对应的值</strong></p></li> <li><p>根据指令名<strong>确定需要操作元素节点的什么属性</strong></p></li></ol> <ul><li>v-text---textContent 属性</li> <li>v-html---innerHTML 属性</li> <li>v-class--className 属性</li></ul> <ol start="4"><li><p>将得到的表达式的值<strong>设置到对应的属性上</strong></p></li> <li><p><strong>移除</strong>元素的指令属性</p></li></ol> <h3 id="数据绑定"><a href="#数据绑定" class="header-anchor">#</a> 数据绑定</h3> <p><strong>数据绑定</strong></p> <p>一旦更新了 data 中的某个属性数据，所有界面上直接使用或间接使用了此属性的节点都会更新。</p> <p><strong>数据劫持</strong></p> <ol><li>数据劫持是 vue 中用来实现数据绑定的一种技术</li> <li>基本思想：通过 defineProperty() 来监视 data 中所有属性(任意层次)数据的变化, 一旦变化就去更新界面</li></ol> <h4 id="四个重要对象"><a href="#四个重要对象" class="header-anchor">#</a> 四个重要对象</h4> <p>实现数据的绑定，首先要对数据进行劫持监听，所以我们需要设置一个监听器 Observer，用来监听所有属性。</p> <p>如果属性发生变化了，就需要告诉订阅者 Watcher 看是否需要更新。因为订阅者是有很多个，所以我们需要有一个消息订阅器 Dep 来专门收集这些订阅者，然后在监听器 Observer 和订阅 Watcher 之间进行统一管理。</p> <p>接着，我们还需要有一个指令解析器 Compile，对每个节点元素进行扫描和解析，将相关指令对应初始化成一个订阅者 Watcher，并替换模板数据或者绑定相应的函数。此时当订阅者 Watcher 接收到相应属性的变化，就会执行对应的更新函数，从而更新视图。</p> <h5 id="observer-监听器"><a href="#observer-监听器" class="header-anchor">#</a> Observer（监听器）</h5> <p>1.用来对 data 所有属性数据进行劫持的构造函数</p> <p>2.给 data 中所有属性重新定义属性描述(get/set)</p> <p>3.为 data 中的每个属性创建对应的 dep 对象</p> <h5 id="dep-depend"><a href="#dep-depend" class="header-anchor">#</a> Dep(Depend)</h5> <p>1.data 中的每个属性(所有层次)都对应一个 dep 对象</p> <p>2.创建的时机:</p> <ul><li><p>在初始化 define data 中各个属性时创建对应的 dep 对象</p></li> <li><p>在 data 中的某个属性值被设置为新的对象时</p> <p>3.对象的结构</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 标识属性</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> uid<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 每个dep都有一个唯一的id</span>
  <span class="token comment">// 相关的所有watcher的数组</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//包含n个对应watcher的数组(subscribes的简写)</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> uid<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>4.subs 属性说明</p> <ul><li>当 <code>watcher</code>被创建时，内部将当前 <code>watcher</code>对象添加到对应的 <code>dep</code>对象的<code>subs</code>中</li> <li>当此 <code>data</code>属性的值发生改变时，<code>subs</code>中所有的 <code>watcher</code>都会收到更新的通知，从而最终更新对应的界面</li></ul> <h5 id="compiler-指令解析器"><a href="#compiler-指令解析器" class="header-anchor">#</a> Compiler（指令解析器）</h5> <ol><li>用来解析模板页面的对象的构造函数（一个实例）</li> <li>利用 <code>compile</code>对象解析模板页面</li> <li>每解析一个表达式（非事件指令，如<code>{{}}</code>或<code>v-text</code>，<code>v-html</code>）都会创建一个对应的 <code>watcher</code>对象，并建立 <code>watcher</code>与 <code>dep</code>的关系</li> <li><code>complie</code> 与 <code>watcher</code>关系：一对多的关系</li></ol> <h5 id="watcher-订阅者"><a href="#watcher-订阅者" class="header-anchor">#</a> Watcher（订阅者）</h5> <p>1.模板中每个非事件指令或表达式都对应一个 watcher 对象</p> <p>2.监视当前表达式数据的变化</p> <p>3.创建的时机：在初始化编译模板时（compiler 中）</p> <p>4.对象的组成</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Watcher</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> exp<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>vm <span class="token operator">=</span> vm<span class="token punctuation">;</span> <span class="token comment">// vm 对象</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>exp <span class="token operator">=</span> exp<span class="token punctuation">;</span> <span class="token comment">// 对应指令的表达式</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb<span class="token punctuation">;</span> <span class="token comment">// 当表达式所对应的数据发生改变的回调函数</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 表达式当前的值</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>depIds <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 表达式中各级属性所对应的dep对象的集合对象</span>
  <span class="token comment">// 属性名为dep的id, 属性值为dep</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="总结-dep-与-watcher-的关系-多对多"><a href="#总结-dep-与-watcher-的关系-多对多" class="header-anchor">#</a> 总结：dep 与 watcher 的关系 --&gt; 多对多</h5> <ol><li>data 中的一个属性对应一个 dep，一个 dep 中可能包含多个 watcher（模板中有几个表达式使用到了同一个属性）</li> <li>模板中一个非事件表达式对应一个 watcher，一个 watcher 中可能包含多个 dep（表达式是多层：a.b.c）</li> <li>数据绑定使用到 2 个核心技术
<ul><li>defineProperty()</li> <li>消息订阅与发布</li></ul></li></ol> <h4 id="mvvm-原理图分析"><a href="#mvvm-原理图分析" class="header-anchor">#</a> MVVM 原理图分析</h4> <p><img src="https://img-blog.csdnimg.cn/20200731102429847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <p>MVVM 中会创建 Observer（用来劫持/监听所有属性）和 Compile（解析指令/大括号表达式），</p> <p><strong>Observer</strong>：要劫持就需要对应的 set()方法，所以在 observer 中为每一个属性创建了一个 dep 对象（与 data 中的属性一一对应）</p> <p><strong>Compile</strong>：（做了两件事）</p> <p>1.目的是初始化视图（显示界面），调用 updater（有很多更新节点的方法）</p> <p>2.为表达式创建对应的 Watcher ，同时指定了更新节点的函数</p> <p><strong>Watcher 和 Dep 建立关系</strong>：</p> <p>1.watcher 放到 dep 中（添加订阅者）</p> <p>dep 中有一个 subs，是用来保存 n 个 watcher 的数组容器</p> <p>2.dep 放到 watcher 中</p> <p>watcher 中的 depIds 是用来保存 n 个 dep 的对象容器。为了判断 dep 与 watcher 的关系是否已经建立（防止重复的建立关系）</p> <p><strong>以上都是初始化阶段会经历的过程</strong></p> <p><strong>更新阶段：</strong></p> <p>vm.name = 'Tom' 导致 data 中的数据变化，会触发监视 data 属性的 observer 中的 set() 方法，然会它又会通知 dep，dep 会去通知它保存的所有相关的 watcher，watcher 收到信息后，其回调函数会去调用 updater 更新界面</p> <p>如下图所示：（黑线是初始化阶段，红线是更新阶段）</p> <p><img src="https://img-blog.csdnimg.cn/20200731102430723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNTA4ODMy,size_16,color_FFFFFF,t_70" alt="img"></p> <h3 id="双向数据绑定"><a href="#双向数据绑定" class="header-anchor">#</a> 双向数据绑定</h3> <ol><li>双向数据绑定是建立在单向数据绑定(model==&gt;View)的基础之上的</li> <li>双向数据绑定的实现流程:
a. 在解析 v-model 指令时，给当前元素添加 input 监听
b. 当 input 的 value 发生改变时，将最新的值赋值给当前表达式所对应的 data 属性</li></ol></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/31/2021, 8:20:29 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><div id="goTop" class="hide-cat" data-v-bf92849a></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      我是blackCat欢迎你的关注 
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="160" height="272" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><APlayer audio="" fixed="true" autoplay="autoplay" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.4aa0e8ea.js" defer></script><script src="/assets/js/4.3a6b897f.js" defer></script><script src="/assets/js/1.97f2804a.js" defer></script><script src="/assets/js/2.13201674.js" defer></script><script src="/assets/js/63.1db0a1d6.js" defer></script>
  </body>
</html>
